@tailwind base;
@tailwind components;
@tailwind utilities;

/* merged: globals.css */
/* ==========================================================
   TuttoNews24 â€“ Add-on safe (append-only, no breaking)
   ========================================================== */

/* --- Grid reattiva per le card --- */
.news-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
  gap:1.25rem;
  align-items:stretch;
}

/* --- Card potenziata (flex, hover morbido) --- */
.card{
  display:flex; flex-direction:column; gap:.6rem;
  min-height:220px;
  transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;
  will-change:transform;
}
.card:hover{ transform:translateY(-3px); box-shadow:var(--shadow-aero-strong); }
.card:focus-within{ outline:none; box-shadow:0 0 0 6px var(--ring); }

/* --- Titoli dentro le card: colore pieno (no gradiente), clamp --- */
.card h1,.card h2,.card h3,.card h4,.card h5,.card h6,
.card .news-title{
  -webkit-text-fill-color:initial!important;
  background:none!important;
  color:var(--text)!important;
  font-weight:800; line-height:1.25;
  font-size:clamp(1.02rem,.95rem + .45vw,1.15rem);
  margin:0 0 .25rem 0;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; -webkit-line-clamp:3;
}
.card .news-title a{ color:inherit; text-decoration:none; }
.card .news-title a:hover{ text-decoration:underline; text-decoration-thickness:2px; text-underline-offset:3px; }

/* --- Kicker/categoria come badge --- */
.kicker{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:.28rem .6rem; border-radius:999px;
  font-size:.72rem; font-weight:700; letter-spacing:.08em; text-transform:uppercase;
  background:color-mix(in oklab,var(--gold-2) 22%,var(--glass));
  border:1px solid color-mix(in oklab,var(--gold-2) 40%,var(--border));
  color:#111;
}

/* --- Snippet e meta --- */
.card .snippet{
  color:color-mix(in oklab,var(--text) 75%,transparent);
  font-size:.95rem;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; -webkit-line-clamp:3;
}
.card .source{
  margin-top:auto; display:flex; align-items:center; gap:.5rem;
  font-size:.84rem; color:var(--muted);
}
.card .source::before{ content:"â—"; font-size:.6rem; color:var(--gold-1); }

/* --- Navbar: pill attiva + hover --- */
.navbar .menu a{ position:relative; padding:.5rem 1rem; border-radius:999px; }
.navbar .menu a[aria-current="page"], .navbar .menu a[data-active="true"]{
  background:color-mix(in oklab,var(--gold-2) 24%,transparent);
  color:var(--text);
}
.navbar .menu a:hover{
  background:color-mix(in oklab,var(--gold-2) 14%,transparent);
}

/* --- Skeleton per loading --- */
.skeleton{
  border-radius:1.25rem;
  background:linear-gradient(90deg,var(--bg-2),
    color-mix(in oklab,var(--bg-2) 65%,var(--glass)),var(--bg-2));
  background-size:200% 100%;
  animation:shimmer 1.4s linear infinite;
}

/* --- Utility clamp riutilizzabili --- */
.u-clamp-2,.u-clamp-3,.u-clamp-4{ display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; }
.u-clamp-2{ -webkit-line-clamp:2; }
.u-clamp-3{ -webkit-line-clamp:3; }
.u-clamp-4{ -webkit-line-clamp:4; }

/* --- Scrollbar un filo piÃ¹ sottile sulla lista --- */
.news-grid *{ scrollbar-width:thin; }
/* ====== Fix sovrapposizioni card (safe append) ====== */

/* Layout solido: header (badge), body (titolo+snippet), footer (fonte) */
.news-card{
  display:grid;
  grid-template-rows: auto 1fr auto;   /* testa / contenuto / piede */
  gap:.55rem;
  height:100%;
  position:relative;
  isolation:isolate;                    /* evita overlay di pseudo-elementi esterni */
}

/* Titolo: niente gradiente, righe stabili, parole spezzabili */
.news-card .news-title,
.news-card h1,.news-card h2,.news-card h3,.news-card h4,.news-card h5,.news-card h6{
  -webkit-text-fill-color: initial !important;
  background: none !important;
  color: var(--text) !important;
  font-weight: 800;
  line-height: 1.28;
  font-size: clamp(1.02rem, 0.95rem + .45vw, 1.15rem);
  margin: 0;
  overflow-wrap: anywhere;      /* spezza URL o parole lunghe */
  hyphens: auto;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
  -webkit-line-clamp: 3;        /* max 3 righe */
}
.news-card .news-title a{ color: inherit; text-decoration: none; display:block; }

/* Snippet: corpo fluido con clamp coerente */
.news-card .snippet{
  color: color-mix(in oklab, var(--text) 75%, transparent);
  line-height: 1.45;
  font-size: .95rem;
  overflow-wrap: anywhere;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
  -webkit-line-clamp: 3;
}

/* Piede con fonte fissato in basso */
.news-card .source{
  align-self: end;
  display:flex; align-items:center; gap:.5rem;
  font-size:.86rem; color:var(--muted);
}
.news-card .source::before{ content:"â—"; font-size:.6rem; color:var(--gold-1); }

/* Badge categoria */
.news-card .kicker{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:.28rem .6rem; border-radius:999px;
  font-size:.72rem; font-weight:700; letter-spacing:.08em; text-transform:uppercase;
  background: color-mix(in oklab, var(--gold-2) 22%, var(--glass));
  border: 1px solid color-mix(in oklab, var(--gold-2) 40%, var(--border));
  color:#111;
}

/* Card container (se usi .card) -> diventa wrapper di .news-card */
.card{ display:block; }
.card > .news-card{ height:100%; }

/* ðŸ”§ FIX duro: se il prefisso titolo (es. â€œtutâ€) Ã¨ messo con ::before/absolute,
   rimettiamolo in flusso per evitare overlay sul titolo */
.news-card .prefix,
.news-card .news-title::before{
  position: static !important;
  display: inline !important;
  left: auto !important; top: auto !important; transform: none !important;
  margin-right: .35rem !important;
  content: attr(data-prefix);
}

/* Griglia delle card nella pagina */
.news-grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 1.25rem;
  align-items: stretch;
}

/* Hover/focus morbidi senza spingere testi */
.card{
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
}
.card:hover{ transform: translateY(-3px); box-shadow: var(--shadow-aero-strong); }
.card:focus-within{ outline: none; box-shadow: 0 0 0 6px var(--ring); }
/* ===== News card: layout solido senza sovrapposizioni ===== */
.news-card{
  display:grid;
  grid-template-rows:auto 1fr auto;   /* header / body / footer */
  gap:.6rem;
  height:100%;
  position:relative;
  isolation:isolate;
}

/* Titolo leggibile (niente gradiente), parole lunghe spezzate, clamp */
.news-card h1,.news-card h2,.news-card h3,.news-card h4,.news-card h5,.news-card h6,
.news-card .news-title{
  -webkit-text-fill-color:initial!important;
  background:none!important;
  color:var(--text)!important;
  font-weight:800; line-height:1.28;
  font-size:clamp(1.02rem,.95rem + .45vw,1.15rem);
  margin:0;
  overflow-wrap:anywhere; hyphens:auto;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden;
  -webkit-line-clamp:3;                       /* max 3 righe */
}
.news-card .news-title a{ color:inherit; text-decoration:none; display:block; }

/* Estratto */
.news-card .snippet{
  color:color-mix(in oklab,var(--text) 75%,transparent);
  line-height:1.45; font-size:.95rem;
  overflow-wrap:anywhere;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden;
  -webkit-line-clamp:3;
}

/* Fonte in basso */
.news-card .source{
  align-self:end; display:flex; align-items:center; gap:.5rem;
  font-size:.86rem; color:var(--muted);
}
.news-card .source::before{ content:"â—"; font-size:.6rem; color:var(--gold-1); }

/* Badge categoria (se presente) */
.news-card .kicker{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:.28rem .6rem; border-radius:999px;
  font-size:.72rem; font-weight:700; letter-spacing:.08em; text-transform:uppercase;
  background:color-mix(in oklab,var(--gold-2) 22%,var(--glass));
  border:1px solid color-mix(in oklab,var(--gold-2) 40%,var(--border));
  color:#111;
}

/* Disinnesca prefissi assoluti (es. â€œtutâ€) */
.news-card [data-prefix], .news-card .prefix, .news-card .news-title::before{
  position:static!important; left:auto!important; top:auto!important; transform:none!important;
  display:inline!important; margin-right:.35rem!important; content:attr(data-prefix);
}

/* Griglia pagina (se usi .grid-news) */
.grid-news{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(320px,1fr));
  gap:1.25rem; align-items:stretch;
}
.grid-news > *{ height:100%; min-height:240px; }
/* Menu pill centrato */
.menu-pills a{
  border-radius:999px;
  transition:background .2s ease,color .2s ease;
}
.menu-pills a[aria-current="page"]{
  background: color-mix(in oklab, var(--gold-2) 24%, transparent);
  color: var(--text);
}
.menu-pills a:hover{
  background: color-mix(in oklab, var(--gold-2) 14%, transparent);
}





