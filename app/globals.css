@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==========================================================
   TuttoNews24 – Add-on safe (append-only, no breaking)
   ========================================================== */

/* --- Grid reattiva per le card --- */
.news-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
  gap:1.25rem;
  align-items:stretch;
}

/* --- Card potenziata (flex, hover morbido) --- */
.card{
  display:flex; flex-direction:column; gap:.6rem;
  min-height:220px;
  transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;
  will-change:transform;
}
.card:hover{ transform:translateY(-3px); box-shadow:var(--shadow-aero-strong); }
.card:focus-within{ outline:none; box-shadow:0 0 0 6px var(--ring); }

/* --- Titoli dentro le card: colore pieno (no gradiente), clamp --- */
.card h1,.card h2,.card h3,.card h4,.card h5,.card h6,
.card .news-title{
  -webkit-text-fill-color:initial!important;
  background:none!important;
  color:var(--text)!important;
  font-weight:800; line-height:1.25;
  font-size:clamp(1.02rem,.95rem + .45vw,1.15rem);
  margin:0 0 .25rem 0;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; -webkit-line-clamp:3;
}
.card .news-title a{ color:inherit; text-decoration:none; }
.card .news-title a:hover{ text-decoration:underline; text-decoration-thickness:2px; text-underline-offset:3px; }

/* --- Kicker/categoria come badge --- */
.kicker{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:.28rem .6rem; border-radius:999px;
  font-size:.72rem; font-weight:700; letter-spacing:.08em; text-transform:uppercase;
  background:color-mix(in oklab,var(--gold-2) 22%,var(--glass));
  border:1px solid color-mix(in oklab,var(--gold-2) 40%,var(--border));
  color:#111;
}

/* --- Snippet e meta --- */
.card .snippet{
  color:color-mix(in oklab,var(--text) 75%,transparent);
  font-size:.95rem;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; -webkit-line-clamp:3;
}
.card .source{
  margin-top:auto; display:flex; align-items:center; gap:.5rem;
  font-size:.84rem; color:var(--muted);
}
.card .source::before{ content:"●"; font-size:.6rem; color:var(--gold-1); }

/* --- Navbar: pill attiva + hover --- */
.navbar .menu a{ position:relative; padding:.5rem 1rem; border-radius:999px; }
.navbar .menu a[aria-current="page"], .navbar .menu a[data-active="true"]{
  background:color-mix(in oklab,var(--gold-2) 24%,transparent);
  color:var(--text);
}
.navbar .menu a:hover{
  background:color-mix(in oklab,var(--gold-2) 14%,transparent);
}

/* --- Skeleton per loading --- */
.skeleton{
  border-radius:1.25rem;
  background:linear-gradient(90deg,var(--bg-2),
    color-mix(in oklab,var(--bg-2) 65%,var(--glass)),var(--bg-2));
  background-size:200% 100%;
  animation:shimmer 1.4s linear infinite;
}

/* --- Utility clamp riutilizzabili --- */
.u-clamp-2,.u-clamp-3,.u-clamp-4{ display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; }
.u-clamp-2{ -webkit-line-clamp:2; }
.u-clamp-3{ -webkit-line-clamp:3; }
.u-clamp-4{ -webkit-line-clamp:4; }

/* --- Scrollbar un filo più sottile sulla lista --- */
.news-grid *{ scrollbar-width:thin; }
/* ====== Fix sovrapposizioni card (safe append) ====== */

/* Layout solido: header (badge), body (titolo+snippet), footer (fonte) */
.news-card{
  display:grid;
  grid-template-rows: auto 1fr auto;   /* testa / contenuto / piede */
  gap:.55rem;
  height:100%;
  position:relative;
  isolation:isolate;                    /* evita overlay di pseudo-elementi esterni */
}

/* Titolo: niente gradiente, righe stabili, parole spezzabili */
.news-card .news-title,
.news-card h1,.news-card h2,.news-card h3,.news-card h4,.news-card h5,.news-card h6{
  -webkit-text-fill-color: initial !important;
  background: none !important;
  color: var(--text) !important;
  font-weight: 800;
  line-height: 1.28;
  font-size: clamp(1.02rem, 0.95rem + .45vw, 1.15rem);
  margin: 0;
  overflow-wrap: anywhere;      /* spezza URL o parole lunghe */
  hyphens: auto;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
  -webkit-line-clamp: 3;        /* max 3 righe */
}
.news-card .news-title a{ color: inherit; text-decoration: none; display:block; }

/* Snippet: corpo fluido con clamp coerente */
.news-card .snippet{
  color: color-mix(in oklab, var(--text) 75%, transparent);
  line-height: 1.45;
  font-size: .95rem;
  overflow-wrap: anywhere;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
  -webkit-line-clamp: 3;
}

/* Piede con fonte fissato in basso */
.news-card .source{
  align-self: end;
  display:flex; align-items:center; gap:.5rem;
  font-size:.86rem; color:var(--muted);
}
.news-card .source::before{ content:"●"; font-size:.6rem; color:var(--gold-1); }

/* Badge categoria */
.news-card .kicker{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:.28rem .6rem; border-radius:999px;
  font-size:.72rem; font-weight:700; letter-spacing:.08em; text-transform:uppercase;
  background: color-mix(in oklab, var(--gold-2) 22%, var(--glass));
  border: 1px solid color-mix(in oklab, var(--gold-2) 40%, var(--border));
  color:#111;
}

/* Card container (se usi .card) -> diventa wrapper di .news-card */
.card{ display:block; }
.card > .news-card{ height:100%; }

/* 🔧 FIX duro: se il prefisso titolo (es. “tut”) è messo con ::before/absolute,
   rimettiamolo in flusso per evitare overlay sul titolo */
.news-card .prefix,
.news-card .news-title::before{
  position: static !important;
  display: inline !important;
  left: auto !important; top: auto !important; transform: none !important;
  margin-right: .35rem !important;
  content: attr(data-prefix);
}

/* Griglia delle card nella pagina */
.news-grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 1.25rem;
  align-items: stretch;
}

/* Hover/focus morbidi senza spingere testi */
.card{
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
}
.card:hover{ transform: translateY(-3px); box-shadow: var(--shadow-aero-strong); }
.card:focus-within{ outline: none; box-shadow: 0 0 0 6px var(--ring); }
/* ===== News card: layout solido senza sovrapposizioni ===== */
.news-card{
  display:grid;
  grid-template-rows:auto 1fr auto;   /* header / body / footer */
  gap:.6rem;
  height:100%;
  position:relative;
  isolation:isolate;
}

/* Titolo leggibile (niente gradiente), parole lunghe spezzate, clamp */
.news-card h1,.news-card h2,.news-card h3,.news-card h4,.news-card h5,.news-card h6,
.news-card .news-title{
  -webkit-text-fill-color:initial!important;
  background:none!important;
  color:var(--text)!important;
  font-weight:800; line-height:1.28;
  font-size:clamp(1.02rem,.95rem + .45vw,1.15rem);
  margin:0;
  overflow-wrap:anywhere; hyphens:auto;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden;
  -webkit-line-clamp:3;                       /* max 3 righe */
}
.news-card .news-title a{ color:inherit; text-decoration:none; display:block; }

/* Estratto */
.news-card .snippet{
  color:color-mix(in oklab,var(--text) 75%,transparent);
  line-height:1.45; font-size:.95rem;
  overflow-wrap:anywhere;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden;
  -webkit-line-clamp:3;
}

/* Fonte in basso */
.news-card .source{
  align-self:end; display:flex; align-items:center; gap:.5rem;
  font-size:.86rem; color:var(--muted);
}
.news-card .source::before{ content:"●"; font-size:.6rem; color:var(--gold-1); }

/* Badge categoria (se presente) */
.news-card .kicker{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:.28rem .6rem; border-radius:999px;
  font-size:.72rem; font-weight:700; letter-spacing:.08em; text-transform:uppercase;
  background:color-mix(in oklab,var(--gold-2) 22%,var(--glass));
  border:1px solid color-mix(in oklab,var(--gold-2) 40%,var(--border));
  color:#111;
}

/* Disinnesca prefissi assoluti (es. “tut”) */
.news-card [data-prefix], .news-card .prefix, .news-card .news-title::before{
  position:static!important; left:auto!important; top:auto!important; transform:none!important;
  display:inline!important; margin-right:.35rem!important; content:attr(data-prefix);
}

/* Griglia pagina (se usi .grid-news) */
.grid-news{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(320px,1fr));
  gap:1.25rem; align-items:stretch;
}
.grid-news > *{ height:100%; min-height:240px; }
/* Menu pill centrato */
.menu-pills a{
  border-radius:999px;
  transition:background .2s ease,color .2s ease;
}
.menu-pills a[aria-current="page"]{
  background: color-mix(in oklab, var(--gold-2) 24%, transparent);
  color: var(--text);
}
.menu-pills a:hover{
  background: color-mix(in oklab, var(--gold-2) 14%, transparent);
}
/* ===== Readable layout (light) — container + grid + cards ===== */
:root{ --bg:#fff; --text:#111; --muted:#555; --brand:#e50914; --border:#eaeaea; --ring:rgba(229,9,20,.25); }
html,body{ background:var(--bg); color:var(--text); }

/* container centrale */
.container-page{ max-width:1200px; margin-inline:auto; padding-inline:1rem; }

/* griglia notizie */
.grid-news{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(320px,1fr));
  gap:1.2rem;
  align-items:stretch;
}

/* card */
.card,.news-card{
  background:#fff; border:1px solid var(--border);
  border-radius:16px; box-shadow:0 8px 22px rgba(0,0,0,.06);
  padding:18px 22px;
  display:grid; grid-template-rows:auto 1fr auto;
  height:100%;
}

/* titolo */
.news-card .news-title,
.news-card h1,.news-card h2,.news-card h3,.news-card h4,.news-card h5,.news-card h6{
  margin:0 0 .35rem 0;
  font-weight:800; line-height:1.25;
  font-size:clamp(1.10rem,1rem + .35vw,1.35rem);
  color:var(--text); -webkit-text-fill-color:initial; background:none;
  text-wrap:balance;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; -webkit-line-clamp:2;
  word-break:normal; overflow-wrap:normal; hyphens:auto;
}
.news-card .news-title a{ color:inherit; text-decoration:none; }
.news-card .news-title a:hover{ text-decoration:underline; text-underline-offset:3px; text-decoration-thickness:2px; }

/* estratto */
.news-card .snippet{
  font-size:1rem; line-height:1.5; color:#333;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; -webkit-line-clamp:4;
  word-break:normal; overflow-wrap:normal; hyphens:auto;
}

/* fonte */
.news-card .source{
  margin-top:auto; display:flex; align-items:center; gap:.5rem;
  font-size:.9rem; color:#666;
}
.news-card .source::before{ content:"●"; font-size:.65rem; color:var(--brand); }

/* badge categoria */
.kicker{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:.3rem .6rem; border-radius:999px;
  font-weight:700; font-size:.72rem; letter-spacing:.08em; text-transform:uppercase;
  background:#fff1f1; border:1px solid #ffd6d6; color:#111;
}

/* link accent */
a{ color:var(--brand); }

/* logo leggermente accentata */
.logo{ letter-spacing:.02em; }
.logo::first-letter{ color:var(--brand); }
 /* ---- append: fix base + griglia ---- */
 nav ul{list-style:none;margin:0;padding:0}
 nav li{margin:0}
 .grid-news{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:1.25rem;align-items:stretch}
 .card,.news-card{height:100%}

/* === TN24 ULTIMATE START === */
:root{
  --page:#f6f7fb; --surface:#ffffff; --ink:#0b1220; --muted:#6b7280;
  --accent:#e10600; --border:#e8e9ef; --ring:rgba(225,6,0,.20);
  --shadow: 0 10px 30px rgba(17,24,39,.08), 0 2px 8px rgba(17,24,39,.05);
}
html{ color-scheme:light; background:var(--page) }
body{
  background:var(--page); color:var(--ink);
  font:16px/1.6 ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial;
}
.tn-container{ max-width:1200px; margin-inline:auto; padding-inline:1rem }
@media (min-width:768px){ .tn-container{ padding-inline:1.5rem } }

/* menu pills */
.menu-pills a{ border-radius:999px; padding:.5rem 1rem; transition:background .2s,color .2s }
.menu-pills a[aria-current="page"]{ background:#fff1f1; color:#9b1111; border:1px solid #ffd4d4 }
.menu-pills a:hover{ background:#fff5f5 }

/* grid */
.news-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(340px,1fr)); gap:1.25rem; align-items:stretch }

/* card */
.card,.news-card{
  background:var(--surface); border:1px solid var(--border);
  border-radius:18px; box-shadow:var(--shadow); overflow:hidden;
  transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;
  display:grid; grid-template-rows:auto 1fr auto; height:100%;
}
.card:hover,.news-card:hover{ transform:translateY(-4px); border-color:#ffd7d7; box-shadow:0 16px 36px rgba(17,24,39,.12) }
.card:focus-within{ outline:none; box-shadow:0 0 0 6px var(--ring) }

/* media + velo */
.news-media{ position:relative; aspect-ratio:16/9; background:#f3f4f6 }
.news-media::after{ content:""; position:absolute; inset:0; pointer-events:none;
  background:linear-gradient(to bottom, transparent 60%, rgba(255,255,255,.12)) }

/* titolo */
.news-title{
  margin:.25rem 0 0; font-weight:800; line-height:1.22;
  font-size:clamp(1.05rem,.95rem + .5vw,1.25rem);
  -webkit-text-fill-color:initial!important; background:none!important; color:var(--ink)!important;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; -webkit-line-clamp:3;
}
.news-title a{ color:inherit; text-decoration:none }
.news-title a:hover{ color:var(--accent); text-decoration:underline; text-underline-offset:3px; text-decoration-thickness:2px }

/* snippet + fonte */
.snippet{
  color:#374151; font-size:.98rem; line-height:1.55;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; -webkit-line-clamp:3;
}
.source{ margin-top:auto; color:var(--muted); font-size:.9rem; display:flex; gap:.5rem; align-items:center }
.source::before{ content:"•"; color:var(--accent) }

/* skeleton */
.skeleton{ background:linear-gradient(90deg,#f2f3f6,#e9eaf0,#f2f3f6); background-size:200% 100%; animation:shimmer 1.25s linear infinite }
@keyframes shimmer{ to{ background-position-x:-200% } }
/* === TN24 ULTIMATE END === */


/* === TN24 DARK START === */
html.dark{ color-scheme: dark }
.dark{
  /* palette scura coerente con il tuo "ultimate" */
  --page:#0a0f17;         /* sfondo pagina */
  --surface:#0f1624;      /* card */
  --ink:#e5e7eb;          /* testo principale */
  --muted:#9aa3b2;        /* testo secondario */
  --accent:#e10600;       /* rosso brand */
  --border:#1f2735;       /* bordi */
  --ring:rgba(225,6,0,.28);
  --shadow: 0 12px 34px rgba(0,0,0,.55), 0 3px 10px rgba(0,0,0,.38);
}
/* rifiniture scure (usano già le var, qui solo tocchi) */
.dark body{ background:var(--page); color:var(--ink) }
.dark .news-card,.dark .card{ border-color:var(--border); box-shadow:var(--shadow) }
.dark .news-media::after{ background:linear-gradient(to bottom, transparent 60%, rgba(0,0,0,.22)) }
.dark .snippet{ color:#cbd5e1 }
.dark .menu-pills a[aria-current="page"]{ background:rgba(225,6,0,.16); border:1px solid #3b4250; color:#fff }
.dark .menu-pills a:hover{ background:rgba(225,6,0,.10) }
/* === TN24 DARK END === */

