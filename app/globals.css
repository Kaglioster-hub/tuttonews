@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==========================================================
   TuttoNews24 – Add-on safe (append-only, no breaking)
   ========================================================== */

/* --- Grid reattiva per le card --- */
.news-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
  gap:1.25rem;
  align-items:stretch;
}

/* --- Card potenziata (flex, hover morbido) --- */
.card{
  display:flex; flex-direction:column; gap:.6rem;
  min-height:220px;
  transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;
  will-change:transform;
}
.card:hover{ transform:translateY(-3px); box-shadow:var(--shadow-aero-strong); }
.card:focus-within{ outline:none; box-shadow:0 0 0 6px var(--ring); }

/* --- Titoli dentro le card: colore pieno (no gradiente), clamp --- */
.card h1,.card h2,.card h3,.card h4,.card h5,.card h6,
.card .news-title{
  -webkit-text-fill-color:initial!important;
  background:none!important;
  color:var(--text)!important;
  font-weight:800; line-height:1.25;
  font-size:clamp(1.02rem,.95rem + .45vw,1.15rem);
  margin:0 0 .25rem 0;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; -webkit-line-clamp:3;
}
.card .news-title a{ color:inherit; text-decoration:none; }
.card .news-title a:hover{ text-decoration:underline; text-decoration-thickness:2px; text-underline-offset:3px; }

/* --- Kicker/categoria come badge --- */
.kicker{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:.28rem .6rem; border-radius:999px;
  font-size:.72rem; font-weight:700; letter-spacing:.08em; text-transform:uppercase;
  background:color-mix(in oklab,var(--gold-2) 22%,var(--glass));
  border:1px solid color-mix(in oklab,var(--gold-2) 40%,var(--border));
  color:#111;
}

/* --- Snippet e meta --- */
.card .snippet{
  color:color-mix(in oklab,var(--text) 75%,transparent);
  font-size:.95rem;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; -webkit-line-clamp:3;
}
.card .source{
  margin-top:auto; display:flex; align-items:center; gap:.5rem;
  font-size:.84rem; color:var(--muted);
}
.card .source::before{ content:"●"; font-size:.6rem; color:var(--gold-1); }

/* --- Navbar: pill attiva + hover --- */
.navbar .menu a{ position:relative; padding:.5rem 1rem; border-radius:999px; }
.navbar .menu a[aria-current="page"], .navbar .menu a[data-active="true"]{
  background:color-mix(in oklab,var(--gold-2) 24%,transparent);
  color:var(--text);
}
.navbar .menu a:hover{
  background:color-mix(in oklab,var(--gold-2) 14%,transparent);
}

/* --- Skeleton per loading --- */
.skeleton{
  border-radius:1.25rem;
  background:linear-gradient(90deg,var(--bg-2),
    color-mix(in oklab,var(--bg-2) 65%,var(--glass)),var(--bg-2));
  background-size:200% 100%;
  animation:shimmer 1.4s linear infinite;
}

/* --- Utility clamp riutilizzabili --- */
.u-clamp-2,.u-clamp-3,.u-clamp-4{ display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; }
.u-clamp-2{ -webkit-line-clamp:2; }
.u-clamp-3{ -webkit-line-clamp:3; }
.u-clamp-4{ -webkit-line-clamp:4; }

/* --- Scrollbar un filo più sottile sulla lista --- */
.news-grid *{ scrollbar-width:thin; }
/* ====== Fix sovrapposizioni card (safe append) ====== */

/* Layout solido: header (badge), body (titolo+snippet), footer (fonte) */
.news-card{
  display:grid;
  grid-template-rows: auto 1fr auto;   /* testa / contenuto / piede */
  gap:.55rem;
  height:100%;
  position:relative;
  isolation:isolate;                    /* evita overlay di pseudo-elementi esterni */
}

/* Titolo: niente gradiente, righe stabili, parole spezzabili */
.news-card .news-title,
.news-card h1,.news-card h2,.news-card h3,.news-card h4,.news-card h5,.news-card h6{
  -webkit-text-fill-color: initial !important;
  background: none !important;
  color: var(--text) !important;
  font-weight: 800;
  line-height: 1.28;
  font-size: clamp(1.02rem, 0.95rem + .45vw, 1.15rem);
  margin: 0;
  overflow-wrap: anywhere;      /* spezza URL o parole lunghe */
  hyphens: auto;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
  -webkit-line-clamp: 3;        /* max 3 righe */
}
.news-card .news-title a{ color: inherit; text-decoration: none; display:block; }

/* Snippet: corpo fluido con clamp coerente */
.news-card .snippet{
  color: color-mix(in oklab, var(--text) 75%, transparent);
  line-height: 1.45;
  font-size: .95rem;
  overflow-wrap: anywhere;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
  -webkit-line-clamp: 3;
}

/* Piede con fonte fissato in basso */
.news-card .source{
  align-self: end;
  display:flex; align-items:center; gap:.5rem;
  font-size:.86rem; color:var(--muted);
}
.news-card .source::before{ content:"●"; font-size:.6rem; color:var(--gold-1); }

/* Badge categoria */
.news-card .kicker{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:.28rem .6rem; border-radius:999px;
  font-size:.72rem; font-weight:700; letter-spacing:.08em; text-transform:uppercase;
  background: color-mix(in oklab, var(--gold-2) 22%, var(--glass));
  border: 1px solid color-mix(in oklab, var(--gold-2) 40%, var(--border));
  color:#111;
}

/* Card container (se usi .card) -> diventa wrapper di .news-card */
.card{ display:block; }
.card > .news-card{ height:100%; }

/* 🔧 FIX duro: se il prefisso titolo (es. “tut”) è messo con ::before/absolute,
   rimettiamolo in flusso per evitare overlay sul titolo */
.news-card .prefix,
.news-card .news-title::before{
  position: static !important;
  display: inline !important;
  left: auto !important; top: auto !important; transform: none !important;
  margin-right: .35rem !important;
  content: attr(data-prefix);
}

/* Griglia delle card nella pagina */
.news-grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 1.25rem;
  align-items: stretch;
}

/* Hover/focus morbidi senza spingere testi */
.card{
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
}
.card:hover{ transform: translateY(-3px); box-shadow: var(--shadow-aero-strong); }
.card:focus-within{ outline: none; box-shadow: 0 0 0 6px var(--ring); }
/* ===== News card: layout solido senza sovrapposizioni ===== */
.news-card{
  display:grid;
  grid-template-rows:auto 1fr auto;   /* header / body / footer */
  gap:.6rem;
  height:100%;
  position:relative;
  isolation:isolate;
}

/* Titolo leggibile (niente gradiente), parole lunghe spezzate, clamp */
.news-card h1,.news-card h2,.news-card h3,.news-card h4,.news-card h5,.news-card h6,
.news-card .news-title{
  -webkit-text-fill-color:initial!important;
  background:none!important;
  color:var(--text)!important;
  font-weight:800; line-height:1.28;
  font-size:clamp(1.02rem,.95rem + .45vw,1.15rem);
  margin:0;
  overflow-wrap:anywhere; hyphens:auto;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden;
  -webkit-line-clamp:3;                       /* max 3 righe */
}
.news-card .news-title a{ color:inherit; text-decoration:none; display:block; }

/* Estratto */
.news-card .snippet{
  color:color-mix(in oklab,var(--text) 75%,transparent);
  line-height:1.45; font-size:.95rem;
  overflow-wrap:anywhere;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden;
  -webkit-line-clamp:3;
}

/* Fonte in basso */
.news-card .source{
  align-self:end; display:flex; align-items:center; gap:.5rem;
  font-size:.86rem; color:var(--muted);
}
.news-card .source::before{ content:"●"; font-size:.6rem; color:var(--gold-1); }

/* Badge categoria (se presente) */
.news-card .kicker{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:.28rem .6rem; border-radius:999px;
  font-size:.72rem; font-weight:700; letter-spacing:.08em; text-transform:uppercase;
  background:color-mix(in oklab,var(--gold-2) 22%,var(--glass));
  border:1px solid color-mix(in oklab,var(--gold-2) 40%,var(--border));
  color:#111;
}

/* Disinnesca prefissi assoluti (es. “tut”) */
.news-card [data-prefix], .news-card .prefix, .news-card .news-title::before{
  position:static!important; left:auto!important; top:auto!important; transform:none!important;
  display:inline!important; margin-right:.35rem!important; content:attr(data-prefix);
}

/* Griglia pagina (se usi .grid-news) */
.grid-news{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(320px,1fr));
  gap:1.25rem; align-items:stretch;
}
.grid-news > *{ height:100%; min-height:240px; }
/* Menu pill centrato */
.menu-pills a{
  border-radius:999px;
  transition:background .2s ease,color .2s ease;
}
.menu-pills a[aria-current="page"]{
  background: color-mix(in oklab, var(--gold-2) 24%, transparent);
  color: var(--text);
}
.menu-pills a:hover{
  background: color-mix(in oklab, var(--gold-2) 14%, transparent);
}
/* ===== Readable layout (light) — container + grid + cards ===== */
:root{ --bg:#fff; --text:#111; --muted:#555; --brand:#e50914; --border:#eaeaea; --ring:rgba(229,9,20,.25); }
html,body{ background:var(--bg); color:var(--text); }

/* container centrale */
.container-page{ max-width:1200px; margin-inline:auto; padding-inline:1rem; }

/* griglia notizie */
.grid-news{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(320px,1fr));
  gap:1.2rem;
  align-items:stretch;
}

/* card */
.card,.news-card{
  background:#fff; border:1px solid var(--border);
  border-radius:16px; box-shadow:0 8px 22px rgba(0,0,0,.06);
  padding:18px 22px;
  display:grid; grid-template-rows:auto 1fr auto;
  height:100%;
}

/* titolo */
.news-card .news-title,
.news-card h1,.news-card h2,.news-card h3,.news-card h4,.news-card h5,.news-card h6{
  margin:0 0 .35rem 0;
  font-weight:800; line-height:1.25;
  font-size:clamp(1.10rem,1rem + .35vw,1.35rem);
  color:var(--text); -webkit-text-fill-color:initial; background:none;
  text-wrap:balance;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; -webkit-line-clamp:2;
  word-break:normal; overflow-wrap:normal; hyphens:auto;
}
.news-card .news-title a{ color:inherit; text-decoration:none; }
.news-card .news-title a:hover{ text-decoration:underline; text-underline-offset:3px; text-decoration-thickness:2px; }

/* estratto */
.news-card .snippet{
  font-size:1rem; line-height:1.5; color:#333;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; -webkit-line-clamp:4;
  word-break:normal; overflow-wrap:normal; hyphens:auto;
}

/* fonte */
.news-card .source{
  margin-top:auto; display:flex; align-items:center; gap:.5rem;
  font-size:.9rem; color:#666;
}
.news-card .source::before{ content:"●"; font-size:.65rem; color:var(--brand); }

/* badge categoria */
.kicker{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:.3rem .6rem; border-radius:999px;
  font-weight:700; font-size:.72rem; letter-spacing:.08em; text-transform:uppercase;
  background:#fff1f1; border:1px solid #ffd6d6; color:#111;
}

/* link accent */
a{ color:var(--brand); }

/* logo leggermente accentata */
.logo{ letter-spacing:.02em; }
.logo::first-letter{ color:var(--brand); }
 /* ---- append: fix base + griglia ---- */
 nav ul{list-style:none;margin:0;padding:0}
 nav li{margin:0}
 .grid-news{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:1.25rem;align-items:stretch}
 .card,.news-card{height:100%}





/* micro-polish dark gold */
.dark .news-card,.dark .card{
  backdrop-filter:saturate(120%) blur(0.5px);
}
.dark .news-media img{ filter:contrast(1.05) saturate(1.02); }
.dark .divider{
  height:1px; background:linear-gradient(90deg,transparent,rgba(212,175,55,.28),transparent);
}
.dark header nav a{ text-underline-offset:3px; text-decoration-thickness:2px }
.dark header nav a:hover{ text-decoration:underline }

/* === TN24 DARK RED START === */
html.dark{ color-scheme:dark }
.dark{
  --page:#0a0b0c;         /* fondo */
  --surface:#141516;      /* card */
  --surface-2:#17191a;    /* variante card */
  --ink:#f2f5f7;          /* testo */
  --muted:#a8b0b8;        /* secondario */
  --accent:#e10600;       /* rosso primario */
  --outline:#262a2d;      /* contorno */
  --outline-2:#2f3437;    /* contorno soft */
  --ring:rgba(225,6,0,.32);
  --shadow:0 14px 36px rgba(0,0,0,.55),0 3px 12px rgba(0,0,0,.38);
}
.dark body{ background:var(--page); color:var(--ink) }

/* nav */
.dark header{ border-bottom:1px solid var(--outline) }
.dark .menu-pills a{ color:#d0d6de }
.dark .menu-pills a[aria-current="page"]{ color:#fff; background:rgba(225,6,0,.12); border:1px solid rgba(225,6,0,.30) }
.dark .menu-pills a:hover{ background:rgba(225,6,0,.08) }

/* grid */
.dark .news-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(340px,1fr)); gap:1.25rem; align-items:stretch }

/* CARD: hairline + glow rosso in hover */
.dark .news-card,.dark .card{
  position:relative;
  background:linear-gradient(180deg,var(--surface),var(--surface-2));
  border-radius:18px;
  padding:1.05rem 1.1rem;
  box-shadow: inset 0 0 0 1px var(--outline), 0 0 0 1px rgba(225,6,0,.10), var(--shadow);
  transition: transform .2s ease, box-shadow .25s ease, background .25s ease;
  display:grid; grid-template-rows:auto 1fr auto; height:100%;
}
.dark .news-card:hover{
  transform:translateY(-3px);
  box-shadow: inset 0 0 0 1px var(--outline-2), 0 0 0 1px rgba(225,6,0,.18), 0 16px 40px rgba(0,0,0,.6);
}

/* badge (opzionale) */
.dark .kicker{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:.22rem .55rem; border-radius:999px;
  font-size:.70rem; letter-spacing:.08em; font-weight:800; text-transform:uppercase;
  color:#f1f5f9; background:rgba(225,6,0,.14); border:1px solid rgba(225,6,0,.35);
}

/* media top 16:9 con cornice */
.dark .news-media{ position:relative; aspect-ratio:16/9; border-radius:12px; overflow:hidden; background:#0f1011; box-shadow:inset 0 0 0 1px var(--outline) }
.dark .news-media img{ width:100%; height:100%; object-fit:cover; filter:contrast(1.05) saturate(1.05) }

/* titolo + testo */
.dark .news-title,
.dark .news-card h1,.dark .news-card h2,.dark .news-card h3{
  margin:.2rem 0 0 0;
  color:var(--ink)!important; -webkit-text-fill-color:initial!important; background:none!important;
  font-weight:900; line-height:1.22; font-size:clamp(1.06rem, .95rem + .5vw, 1.28rem);
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; -webkit-line-clamp:3;
}
.dark .news-title a{ color:inherit; text-decoration:none }
.dark .news-title a:hover{ color:#fff; text-decoration:underline; text-underline-offset:3px; text-decoration-thickness:2px }

.dark .snippet{
  color:#cbd3db; font-size:.98rem; line-height:1.55;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; -webkit-line-clamp:3;
}
.dark .source{ margin-top:auto; color:#9aa3ad; font-size:.9rem; display:flex; gap:.5rem; align-items:center }
.dark .source::before{ content:"•"; color:var(--accent) }

/* hairline interna decorativa */
.dark .card-divider{ height:1px; background:linear-gradient(90deg,transparent,rgba(225,6,0,.28),transparent); margin:.35rem 0 }

.dark a{ color:var(--accent) }
/* === TN24 DARK RED END === */

