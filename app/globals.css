@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==========================================================
   TuttoNews24 – Add-on safe (append-only, no breaking)
   ========================================================== */

/* --- Grid reattiva per le card --- */
.news-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
  gap:1.25rem;
  align-items:stretch;
}

/* --- Card potenziata (flex, hover morbido) --- */
.card{
  display:flex; flex-direction:column; gap:.6rem;
  min-height:220px;
  transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;
  will-change:transform;
}
.card:hover{ transform:translateY(-3px); box-shadow:var(--shadow-aero-strong); }
.card:focus-within{ outline:none; box-shadow:0 0 0 6px var(--ring); }

/* --- Titoli dentro le card: colore pieno (no gradiente), clamp --- */
.card h1,.card h2,.card h3,.card h4,.card h5,.card h6,
.card .news-title{
  -webkit-text-fill-color:initial!important;
  background:none!important;
  color:var(--text)!important;
  font-weight:800; line-height:1.25;
  font-size:clamp(1.02rem,.95rem + .45vw,1.15rem);
  margin:0 0 .25rem 0;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; -webkit-line-clamp:3;
}
.card .news-title a{ color:inherit; text-decoration:none; }
.card .news-title a:hover{ text-decoration:underline; text-decoration-thickness:2px; text-underline-offset:3px; }

/* --- Kicker/categoria come badge --- */
.kicker{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:.28rem .6rem; border-radius:999px;
  font-size:.72rem; font-weight:700; letter-spacing:.08em; text-transform:uppercase;
  background:color-mix(in oklab,var(--gold-2) 22%,var(--glass));
  border:1px solid color-mix(in oklab,var(--gold-2) 40%,var(--border));
  color:#111;
}

/* --- Snippet e meta --- */
.card .snippet{
  color:color-mix(in oklab,var(--text) 75%,transparent);
  font-size:.95rem;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; -webkit-line-clamp:3;
}
.card .source{
  margin-top:auto; display:flex; align-items:center; gap:.5rem;
  font-size:.84rem; color:var(--muted);
}
.card .source::before{ content:"●"; font-size:.6rem; color:var(--gold-1); }

/* --- Navbar: pill attiva + hover --- */
.navbar .menu a{ position:relative; padding:.5rem 1rem; border-radius:999px; }
.navbar .menu a[aria-current="page"], .navbar .menu a[data-active="true"]{
  background:color-mix(in oklab,var(--gold-2) 24%,transparent);
  color:var(--text);
}
.navbar .menu a:hover{
  background:color-mix(in oklab,var(--gold-2) 14%,transparent);
}

/* --- Skeleton per loading --- */
.skeleton{
  border-radius:1.25rem;
  background:linear-gradient(90deg,var(--bg-2),
    color-mix(in oklab,var(--bg-2) 65%,var(--glass)),var(--bg-2));
  background-size:200% 100%;
  animation:shimmer 1.4s linear infinite;
}

/* --- Utility clamp riutilizzabili --- */
.u-clamp-2,.u-clamp-3,.u-clamp-4{ display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; }
.u-clamp-2{ -webkit-line-clamp:2; }
.u-clamp-3{ -webkit-line-clamp:3; }
.u-clamp-4{ -webkit-line-clamp:4; }

/* --- Scrollbar un filo più sottile sulla lista --- */
.news-grid *{ scrollbar-width:thin; }
/* ====== Fix sovrapposizioni card (safe append) ====== */

/* Layout solido: header (badge), body (titolo+snippet), footer (fonte) */
.news-card{
  display:grid;
  grid-template-rows: auto 1fr auto;   /* testa / contenuto / piede */
  gap:.55rem;
  height:100%;
  position:relative;
  isolation:isolate;                    /* evita overlay di pseudo-elementi esterni */
}

/* Titolo: niente gradiente, righe stabili, parole spezzabili */
.news-card .news-title,
.news-card h1,.news-card h2,.news-card h3,.news-card h4,.news-card h5,.news-card h6{
  -webkit-text-fill-color: initial !important;
  background: none !important;
  color: var(--text) !important;
  font-weight: 800;
  line-height: 1.28;
  font-size: clamp(1.02rem, 0.95rem + .45vw, 1.15rem);
  margin: 0;
  overflow-wrap: anywhere;      /* spezza URL o parole lunghe */
  hyphens: auto;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
  -webkit-line-clamp: 3;        /* max 3 righe */
}
.news-card .news-title a{ color: inherit; text-decoration: none; display:block; }

/* Snippet: corpo fluido con clamp coerente */
.news-card .snippet{
  color: color-mix(in oklab, var(--text) 75%, transparent);
  line-height: 1.45;
  font-size: .95rem;
  overflow-wrap: anywhere;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
  -webkit-line-clamp: 3;
}

/* Piede con fonte fissato in basso */
.news-card .source{
  align-self: end;
  display:flex; align-items:center; gap:.5rem;
  font-size:.86rem; color:var(--muted);
}
.news-card .source::before{ content:"●"; font-size:.6rem; color:var(--gold-1); }

/* Badge categoria */
.news-card .kicker{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:.28rem .6rem; border-radius:999px;
  font-size:.72rem; font-weight:700; letter-spacing:.08em; text-transform:uppercase;
  background: color-mix(in oklab, var(--gold-2) 22%, var(--glass));
  border: 1px solid color-mix(in oklab, var(--gold-2) 40%, var(--border));
  color:#111;
}

/* Card container (se usi .card) -> diventa wrapper di .news-card */
.card{ display:block; }
.card > .news-card{ height:100%; }

/* 🔧 FIX duro: se il prefisso titolo (es. “tut”) è messo con ::before/absolute,
   rimettiamolo in flusso per evitare overlay sul titolo */
.news-card .prefix,
.news-card .news-title::before{
  position: static !important;
  display: inline !important;
  left: auto !important; top: auto !important; transform: none !important;
  margin-right: .35rem !important;
  content: attr(data-prefix);
}

/* Griglia delle card nella pagina */
.news-grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 1.25rem;
  align-items: stretch;
}

/* Hover/focus morbidi senza spingere testi */
.card{
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
}
.card:hover{ transform: translateY(-3px); box-shadow: var(--shadow-aero-strong); }
.card:focus-within{ outline: none; box-shadow: 0 0 0 6px var(--ring); }
/* ===== News card: layout solido senza sovrapposizioni ===== */
.news-card{
  display:grid;
  grid-template-rows:auto 1fr auto;   /* header / body / footer */
  gap:.6rem;
  height:100%;
  position:relative;
  isolation:isolate;
}

/* Titolo leggibile (niente gradiente), parole lunghe spezzate, clamp */
.news-card h1,.news-card h2,.news-card h3,.news-card h4,.news-card h5,.news-card h6,
.news-card .news-title{
  -webkit-text-fill-color:initial!important;
  background:none!important;
  color:var(--text)!important;
  font-weight:800; line-height:1.28;
  font-size:clamp(1.02rem,.95rem + .45vw,1.15rem);
  margin:0;
  overflow-wrap:anywhere; hyphens:auto;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden;
  -webkit-line-clamp:3;                       /* max 3 righe */
}
.news-card .news-title a{ color:inherit; text-decoration:none; display:block; }

/* Estratto */
.news-card .snippet{
  color:color-mix(in oklab,var(--text) 75%,transparent);
  line-height:1.45; font-size:.95rem;
  overflow-wrap:anywhere;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden;
  -webkit-line-clamp:3;
}

/* Fonte in basso */
.news-card .source{
  align-self:end; display:flex; align-items:center; gap:.5rem;
  font-size:.86rem; color:var(--muted);
}
.news-card .source::before{ content:"●"; font-size:.6rem; color:var(--gold-1); }

/* Badge categoria (se presente) */
.news-card .kicker{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:.28rem .6rem; border-radius:999px;
  font-size:.72rem; font-weight:700; letter-spacing:.08em; text-transform:uppercase;
  background:color-mix(in oklab,var(--gold-2) 22%,var(--glass));
  border:1px solid color-mix(in oklab,var(--gold-2) 40%,var(--border));
  color:#111;
}

/* Disinnesca prefissi assoluti (es. “tut”) */
.news-card [data-prefix], .news-card .prefix, .news-card .news-title::before{
  position:static!important; left:auto!important; top:auto!important; transform:none!important;
  display:inline!important; margin-right:.35rem!important; content:attr(data-prefix);
}

/* Griglia pagina (se usi .grid-news) */
.grid-news{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(320px,1fr));
  gap:1.25rem; align-items:stretch;
}
.grid-news > *{ height:100%; min-height:240px; }
/* Menu pill centrato */
.menu-pills a{
  border-radius:999px;
  transition:background .2s ease,color .2s ease;
}
.menu-pills a[aria-current="page"]{
  background: color-mix(in oklab, var(--gold-2) 24%, transparent);
  color: var(--text);
}
.menu-pills a:hover{
  background: color-mix(in oklab, var(--gold-2) 14%, transparent);
}
/* ===== Readable layout (light) — container + grid + cards ===== */
:root{ --bg:#fff; --text:#111; --muted:#555; --brand:#e50914; --border:#eaeaea; --ring:rgba(229,9,20,.25); }
html,body{ background:var(--bg); color:var(--text); }

/* container centrale */
.container-page{ max-width:1200px; margin-inline:auto; padding-inline:1rem; }

/* griglia notizie */
.grid-news{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(320px,1fr));
  gap:1.2rem;
  align-items:stretch;
}

/* card */
.card,.news-card{
  background:#fff; border:1px solid var(--border);
  border-radius:16px; box-shadow:0 8px 22px rgba(0,0,0,.06);
  padding:18px 22px;
  display:grid; grid-template-rows:auto 1fr auto;
  height:100%;
}

/* titolo */
.news-card .news-title,
.news-card h1,.news-card h2,.news-card h3,.news-card h4,.news-card h5,.news-card h6{
  margin:0 0 .35rem 0;
  font-weight:800; line-height:1.25;
  font-size:clamp(1.10rem,1rem + .35vw,1.35rem);
  color:var(--text); -webkit-text-fill-color:initial; background:none;
  text-wrap:balance;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; -webkit-line-clamp:2;
  word-break:normal; overflow-wrap:normal; hyphens:auto;
}
.news-card .news-title a{ color:inherit; text-decoration:none; }
.news-card .news-title a:hover{ text-decoration:underline; text-underline-offset:3px; text-decoration-thickness:2px; }

/* estratto */
.news-card .snippet{
  font-size:1rem; line-height:1.5; color:#333;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; -webkit-line-clamp:4;
  word-break:normal; overflow-wrap:normal; hyphens:auto;
}

/* fonte */
.news-card .source{
  margin-top:auto; display:flex; align-items:center; gap:.5rem;
  font-size:.9rem; color:#666;
}
.news-card .source::before{ content:"●"; font-size:.65rem; color:var(--brand); }

/* badge categoria */
.kicker{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:.3rem .6rem; border-radius:999px;
  font-weight:700; font-size:.72rem; letter-spacing:.08em; text-transform:uppercase;
  background:#fff1f1; border:1px solid #ffd6d6; color:#111;
}

/* link accent */
a{ color:var(--brand); }

/* logo leggermente accentata */
.logo{ letter-spacing:.02em; }
.logo::first-letter{ color:var(--brand); }
 /* ---- append: fix base + griglia ---- */
 nav ul{list-style:none;margin:0;padding:0}
 nav li{margin:0}
 .grid-news{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:1.25rem;align-items:stretch}
 .card,.news-card{height:100%}

/* === TN24: START === */
/* ========== TN24 UI (light) ========== */
:root{ --bg:#fff; --text:#111; --muted:#666; --brand:#e50914; --border:#eaeaea; --ring:rgba(229,9,20,.25); }
html,body{ background:var(--bg); color:var(--text); }
*{ -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }

/* container centrale */
.tn-container{ width:100%; max-width:72rem; margin-inline:auto; padding-inline:1rem; }
@media (min-width:640px){ .tn-container{ padding-inline:1.5rem; } }
@media (min-width:1024px){ .tn-container{ padding-inline:2rem; } }

/* navbar pills */
.menu-pills a{ border-radius:999px; padding:.4rem .9rem; transition:background .15s,color .15s; }
.menu-pills a[aria-current="page"]{ background:rgba(229,9,20,.12); color:#000; }
.menu-pills a:hover{ background:rgba(229,9,20,.08); }

/* griglia fallback (oltre Masonry) */
.news-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(320px,1fr)); gap:1.25rem; align-items:stretch; }

/* CARD pulite */
.news-card,
.card{
  background:#fff; border:1px solid var(--border);
  border-radius:16px; box-shadow:0 8px 22px rgba(0,0,0,.06);
  overflow:hidden; transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;
}
.news-card:hover{ transform:translateY(-2px); border-color:#f0c8cc; box-shadow:0 10px 28px rgba(0,0,0,.08); }

/* titoli e testi nelle card */
.news-card .news-title,
.news-card h1,.news-card h2,.news-card h3,.news-card h4,.news-card h5,.news-card h6{
  -webkit-text-fill-color: initial !important; background:none !important;
  color:var(--text) !important; font-weight:800; line-height:1.28;
  font-size:clamp(1.05rem,0.95rem + .5vw,1.2rem);
  margin:0; display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; -webkit-line-clamp:3;
  overflow-wrap:anywhere; hyphens:auto;
}
.news-card .snippet{
  color:color-mix(in oklab, #111 72%, transparent);
  font-size:.96rem; line-height:1.5;
  display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; -webkit-line-clamp:3;
}
.news-card .source{ margin-top:.25rem; font-size:.86rem; color:#666; display:flex; gap:.5rem; align-items:center; }
.news-card .source::before{ content:"●"; font-size:.62rem; color:var(--brand); }

/* badge categoria */
.kicker{
  background:#fff1f1; border:1px solid #ffd6d6; color:#111;
  padding:.28rem .6rem; border-radius:999px; font-size:.72rem;
  letter-spacing:.08em; font-weight:700; text-transform:uppercase;
}

/* link accentati */
a{ color:var(--brand); }
a:hover{ text-decoration:underline; text-underline-offset:3px; text-decoration-thickness:2px; }

/* utility */
.rounded-2xl{ border-radius:1rem; }
.shadow-soft{ box-shadow:0 8px 22px rgba(0,0,0,.06); }
/* === TN24: END === */

